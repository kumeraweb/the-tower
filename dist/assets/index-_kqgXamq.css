:root{--bg-top: #f2f4f7;--bg-bottom: #d9dfe6;--tower-surface: #e7ebf0;--floor-surface: #f5f7fa;--door-closed: #2f3b45;--door-blocked: #8f98a3;--door-light: #f7f8fb;--text-main: #10151c;--text-muted: #4e5866;--card-white: #ffffff;--line-soft: rgba(233, 238, 245, .62);--shadow-soft: 0 10px 30px rgba(7, 10, 14, .22);--panel-dark: rgba(8, 12, 18, .66);--panel-dark-strong: rgba(7, 10, 16, .78);--panel-light: rgba(255, 255, 255, .12);--transition-fast: .24s ease;--fog-top-width: 520px;--fog-bottom-width: min(820px, 92%);--fog-top-width-mobile: min(420px, 84%);--fog-bottom-width-mobile: min(420px, 84%);--fog-top-scale: 1.8;--fog-bottom-scale: 1.45;--tower-floor-width: 240px;--tower-base-width: 390px;--tower-floor-width-mobile: clamp(150px, 52vw, 180px);--tower-base-width-mobile: clamp(200px, 70vw, 280px);--tower-section-width: 760px;--tower-floor-frame-width: 430px;--tower-base-frame-width: 600px;--tower-floor-frame-width-mobile: min(320px, 100%);--tower-base-margin-top: 18px;--tower-base-margin-bottom: 0px;--scene-avatar-x: 75%;--scene-avatar-y: .8%;--scene-avatar-x-mobile: 75%;--scene-avatar-y-mobile: .8%;--scene-avatar-width: clamp(242px, 22vw, 391px);--scene-avatar-width-mobile: clamp(161px, 38vw, 242px);--tower-logo-width: 150px;--tower-logo-width-mobile: clamp(113px, 31.5vw, 193px)}*{box-sizing:border-box}html,body,#root{height:100%;min-height:100vh;width:100%;max-width:100%;overflow-x:hidden}body{margin:0;font-family:Inter,"Source Sans 3",Segoe UI,sans-serif;color:var(--text-main);background:linear-gradient(180deg,var(--bg-top),var(--bg-bottom));overflow:hidden;overflow-x:hidden;overscroll-behavior-x:none}.App,.tower-view-shell{height:100vh;width:100%;max-width:100vw;display:flex;gap:20px;padding:20px;overflow:hidden;overflow-x:clip}.main-content{position:relative;--floor-progress: 0;--atmosphere-strength: .06;flex:1 1 auto;min-width:0;min-height:0;max-width:1120px;display:flex;justify-content:center;align-items:stretch;border-radius:8px;background-color:#0f141b;overflow:hidden;overflow-x:clip;isolation:isolate}@media (min-width: 841px){.tower-view-shell{justify-content:center}.main-content{width:min(1120px,calc(100vw - 340px));height:min(calc(100vh - 40px),860px)}}.parallax-layer{position:absolute;top:-14%;right:0;bottom:-10%;left:0;pointer-events:none;background-image:url(/assets/background-CzU-aEbj.png);background-repeat:no-repeat;background-size:cover;transform:translate(0);transition:background-position .75s ease-in-out,filter .75s ease-in-out;will-change:background-position,filter,transform;animation:background-sway var(--bg-sway-duration, 9s) ease-in-out infinite}.parallax-sky{--bg-sway-duration: 10s;z-index:1;opacity:.6;filter:saturate(.9) brightness(.95);background-position:center calc(0% + var(--floor-progress) * 2px)}.parallax-hills{--bg-sway-duration: 8.5s;z-index:2;opacity:.75;filter:saturate(1) brightness(.96);background-position:center calc(30% + var(--floor-progress) * 4px)}.parallax-trees{--bg-sway-duration: 7.2s;z-index:3;opacity:.92;filter:saturate(1.05);background-position:center calc(52% + var(--floor-progress) * 6px)}.atmosphere-overlay{position:absolute;top:0;right:0;bottom:0;left:0;z-index:4;pointer-events:none;background:linear-gradient(180deg,#fff3,#c4cfe01f 46%,#171f2a0a);opacity:var(--atmosphere-strength);transition:opacity .75s ease-in-out}.tower-world{position:relative;z-index:5;width:100%;height:100%;overflow:hidden}.RankingPanel,.ranking-sidebar{width:clamp(170px,20vw,270px);flex-shrink:0;height:fit-content;position:sticky;top:20px;background:var(--panel-dark);border:1px solid rgba(255,255,255,.16);border-radius:8px;box-shadow:var(--shadow-soft);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:16px;display:flex;flex-direction:column;gap:12px}.ranking-desktop{display:flex}.ranking-sidebar h2{margin:0;font-size:1.15rem;font-weight:700;letter-spacing:.01em;color:#f7f9fc;text-transform:uppercase;letter-spacing:.04em}.ranking-sidebar ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:9px}.ranking-sidebar li{display:flex;justify-content:space-between;align-items:center;background:#ffffff17;border:1px solid rgba(255,255,255,.18);border-radius:6px;box-shadow:0 8px 16px #0000002e;padding:10px 12px;transition:transform var(--transition-fast),box-shadow var(--transition-fast)}.ranking-sidebar li:hover{transform:translateY(-1px);box-shadow:0 10px 20px #00000038}.ranking-sidebar li span{font-weight:600;color:#f3f7ff}.ranking-sidebar li strong{font-size:.92rem;color:#d8e1ef}.my-progress{margin-top:auto;border-radius:6px;border:1px solid rgba(255,255,255,.18);background:#ffffff1f;padding:10px 12px;font-weight:700;color:#fff}.ranking-mobile-bar{display:none}.ranking-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:60;background:#04060aad;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:grid;place-items:center;padding:18px}.ranking-modal-card{width:min(460px,100%);max-height:min(86vh,680px);overflow:auto;border-radius:8px;border:1px solid rgba(255,255,255,.2);background:#0c1119e6;box-shadow:var(--shadow-soft);padding:14px;display:flex;flex-direction:column;gap:10px}.ranking-modal-header{display:flex;justify-content:space-between;align-items:center}.ranking-modal-header h3{margin:0;font-size:1.1rem;color:#f7f9fc;text-transform:uppercase;letter-spacing:.03em}.ranking-modal-close{width:34px;height:34px;border-radius:4px;border:1px solid rgba(255,255,255,.22);background:#ffffff1a;cursor:pointer;font-weight:800;color:#f5f8ff}.ranking-modal-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}.ranking-modal-list li{display:flex;justify-content:space-between;align-items:center;background:#ffffff14;border:1px solid rgba(255,255,255,.15);border-radius:6px;padding:9px 10px}.ranking-modal-list li span,.ranking-modal-list li strong{color:#edf3ff}.tower-section{position:relative;width:100%;height:100%;background:transparent;text-align:center;display:flex;flex-direction:column;align-items:center;padding:0 12px 12px;overflow-x:clip}.tower-header{position:absolute;top:0;left:0;right:0;width:100%;min-height:0;padding-top:6px;z-index:12;display:flex;flex-direction:column;align-items:center;gap:2px;background:transparent;overflow:visible;pointer-events:none}.tower-title{margin:0;position:relative;z-index:8;font-size:1.65rem;font-weight:800;letter-spacing:.01em}.tower-title-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.tower-logo{width:var(--tower-logo-width);max-width:92%;height:auto;position:relative;z-index:8;pointer-events:none}.tower-fog{width:var(--fog-top-width);height:auto;background:transparent;pointer-events:none;filter:grayscale(1) saturate(0) contrast(1.05) brightness(.96)}.scene-fog-bottom{position:absolute;left:50%;bottom:0;width:var(--fog-bottom-width);max-width:100%;height:auto;z-index:6;opacity:.82;pointer-events:none;--fog-bottom-y-shift: 42%;animation:fog-sway-bottom 6.2s ease-in-out infinite;filter:grayscale(1) saturate(0) contrast(1.05) brightness(.96)}.audio-toggle-button{position:absolute;top:12px;right:12px;z-index:30;width:38px;height:38px;border-radius:4px;border:1px solid rgba(255,255,255,.2);background:#060a1099;color:#ecf2ff;display:grid;place-items:center;cursor:pointer;box-shadow:0 6px 16px #0f19262e}.tower-viewport{position:relative;width:100%;flex:1;min-height:0;overflow:hidden}.TowerContainer,.tower{position:absolute;top:0;left:50%;background:transparent;border:0;border-radius:0;box-shadow:none;width:var(--tower-base-frame-width);max-width:100%;padding:0;display:block;transition:transform .75s ease-in-out;will-change:transform;pointer-events:none}.FloorCard,.floor{position:absolute;left:50%;transform:translate(-50%);width:var(--tower-floor-frame-width);display:flex;justify-content:center;pointer-events:auto;transition:filter var(--transition-fast),transform var(--transition-fast)}.floor-base{width:var(--tower-base-frame-width);border-color:#3c78ffd1}.floor-current .floor-image{filter:drop-shadow(0 0 10px rgba(255,209,102,.38))}.floor-image{width:100%;max-width:var(--tower-floor-width);height:auto;display:block;-webkit-user-select:none;user-select:none;pointer-events:none}.floor-image-base{max-width:var(--tower-base-width);transform:translateY(-15%)}.floor-label{position:absolute;top:10px;left:14px;font-size:.86rem;font-weight:700;color:#4a5a6b;z-index:2;border-radius:999px;background:#ffffffd1;padding:4px 8px}.door-anchor{position:absolute;top:var(--anchor-top, 55%);left:var(--anchor-left, 50%);width:clamp(60px,60px,10px);height:clamp(40px,100px,186px);transform:translate(-50%,-42%);z-index:4}.door-anchor.is-current:after{content:"";position:absolute;left:50%;top:50%;width:220%;height:260%;transform:translate(-50%,-50%);border-radius:50%;background:radial-gradient(circle,#fffbe861,#fff8d633 46%,#fff8d600 78%);filter:blur(24px);opacity:.82;pointer-events:none;z-index:2;animation:door-aura-pulse 1.8s ease-in-out infinite}.door-anchor.is-current:hover:after{opacity:.96;filter:blur(26px)}.door-anchor.anchor-center{--anchor-left: 50%}.door-anchor.anchor-left{--anchor-left: 37%}.door-anchor.anchor-right{--anchor-left: 67%}.door-anchor.anchor-base{--anchor-top: 30.5%}.Door,.door{width:100%;height:100%;border-radius:999px;border:none;background:transparent;z-index:3;transition:transform var(--transition-fast),filter var(--transition-fast),background-color var(--transition-fast),box-shadow var(--transition-fast)}.door-completed,.Door.completed{background:transparent}.door-blocked,.Door.blocked{background:transparent;opacity:1;box-shadow:none}.door:disabled{cursor:not-allowed}.door-current,.Door.open{background:transparent;cursor:pointer;transform:scale(1.02);box-shadow:none;animation:none}.door-current:hover,.Door.open:hover{transform:scale(1.05);filter:brightness(1.08);box-shadow:none}.player-avatar{position:absolute;left:100%;bottom:var(--avatar-bottom, -2px);width:var(--avatar-width, clamp(64px, 5.6vw, 96px));height:var(--avatar-height, clamp(114px, 9.6vw, 160px));object-fit:contain;object-position:center bottom;border-radius:0;transform:translate(var(--avatar-offset-x, 12px),var(--avatar-offset-y, 0));z-index:5;pointer-events:none;filter:drop-shadow(0 7px 12px rgba(6,10,15,.48))}.player-avatar.avatar-type-center{--avatar-offset-y: 1px}.player-avatar.avatar-type-left{--avatar-offset-y: -1px}.player-avatar.avatar-type-right{left:0;--avatar-offset-y: -1px;transform:translate(calc(-100% - 10px),var(--avatar-offset-y, 0))}.player-avatar.avatar-variant-front{--avatar-width: clamp(58px, 5vw, 86px);--avatar-height: clamp(104px, 8.6vw, 148px)}.player-avatar.avatar-base{--avatar-width: clamp(92px, 8vw, 142px);--avatar-height: clamp(158px, 14vw, 226px);--avatar-offset-x: 22px;--avatar-offset-y: -4px}.scene-avatar-flip{position:absolute;left:var(--scene-avatar-x);bottom:var(--scene-avatar-y);width:var(--scene-avatar-width);height:auto;transform:translate(-50%);z-index:9;pointer-events:none;filter:drop-shadow(0 6px 10px rgba(7,12,18,.42))}.tower-fog-top{position:absolute;top:0;left:50%;z-index:7;opacity:.65;--fog-top-y-shift: -40%;mix-blend-mode:multiply;animation:fog-sway-top 6.2s ease-in-out infinite}@keyframes door-pulse{0%{box-shadow:0 0 56px #fffbe8e0,0 0 120px #fff8d6bd,0 0 178px #fff8d685}50%{box-shadow:0 0 86px #fffbe8,0 0 170px #fff8d6,0 0 244px #fff8d6c2}to{box-shadow:0 0 56px #fffbe8e0,0 0 120px #fff8d6bd,0 0 178px #fff8d685}}@keyframes door-aura-pulse{0%,to{opacity:.8;transform:translate(-50%,-50%) scale(.96)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.08)}}@keyframes fog-sway-top{0%,to{transform:translate3d(calc(-50% - 10px),var(--fog-top-y-shift, 0),0) scale(var(--fog-top-scale)) scaleY(-1)}50%{transform:translate3d(calc(-50% + 10px),var(--fog-top-y-shift, 0),0) scale(var(--fog-top-scale)) scaleY(-1)}}@keyframes fog-sway-bottom{0%,to{transform:translate3d(calc(-50% - 12px),var(--fog-bottom-y-shift, 42%),0) scale(var(--fog-bottom-scale))}50%{transform:translate3d(calc(-50% + 12px),var(--fog-bottom-y-shift, 42%),0) scale(var(--fog-bottom-scale))}}@keyframes background-sway{0%,to{transform:translate(-2px)}50%{transform:translate(2px)}}.ChallengeView,.challenge-screen{min-height:100vh;display:grid;place-items:center;padding:20px;background-image:linear-gradient(180deg,#0204089e,#020408c7),url(/assets/background-room-B3ew2V_c.png);background-size:cover;background-position:center;background-repeat:no-repeat}.challenge-card{width:min(500px,100%);border-radius:8px;border:1px solid rgba(255,255,255,.2);background:#070b11c2;box-shadow:var(--shadow-soft);padding:24px;display:flex;flex-direction:column;gap:12px;text-align:center}.challenge-card h2,.challenge-subtitle,.challenge-question,.challenge-feedback{margin:0}.challenge-card h2{font-size:1.6rem;font-weight:800;color:#f6f9ff;text-transform:uppercase;letter-spacing:.03em}.challenge-subtitle{color:#d6deea;font-weight:600}.challenge-question{font-size:1.05rem;font-weight:700;color:#f0f5ff}.challenge-form{display:flex;gap:10px}.challenge-form input{flex:1;background:#ffffff14;border:1px solid rgba(255,255,255,.2);border-radius:4px;padding:12px 10px;font-size:1rem;text-align:center;color:#f7fbff;outline:none;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.challenge-form input:focus{border-color:#ffffff80;box-shadow:0 0 0 3px #ffffff1f}.challenge-form button{border:1px solid rgba(255,255,255,.28);border-radius:4px;background:#ffffff1a;color:#f7fbff;font-size:.97rem;font-weight:700;padding:10px 16px;cursor:pointer;transition:transform var(--transition-fast),background-color var(--transition-fast),box-shadow var(--transition-fast),border-color var(--transition-fast)}.challenge-form button:hover{transform:translateY(-1px);background:#ffffff2e;border-color:#ffffff75;box-shadow:0 10px 16px #00000047}.challenge-feedback{min-height:22px;font-weight:700;color:#e8effc}@media (max-width: 840px){.App,.tower-view-shell{position:fixed;top:0;right:0;bottom:0;left:0;gap:8px;padding:8px;padding-bottom:calc(80px + env(safe-area-inset-bottom));height:100dvh;width:100vw;max-width:100vw}.main-content{flex:1;min-height:0;border-radius:14px;--floor-step: clamp(96px, 15vw, 150px)}.audio-toggle-button{top:10px;right:10px;width:34px;height:34px;border-radius:9px}.ranking-desktop{display:none}.ranking-mobile-bar{position:fixed;left:8px;right:8px;bottom:calc(8px + env(safe-area-inset-bottom));z-index:50;display:grid;grid-template-columns:1fr 1fr auto auto;gap:6px;align-items:center;border-radius:8px;border:1px solid rgba(255,255,255,.16);background:var(--panel-dark-strong);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:12px 10px;box-shadow:0 8px 24px #0c141e4d}.ranking-mobile-item{border-radius:6px;border:1px solid rgba(255,255,255,.2);background:#ffffff14;padding:8px 9px;display:flex;align-items:center;justify-content:center;gap:6px;font-size:.86rem;font-weight:700;color:#f3f7ff;text-shadow:0 1px 3px rgba(0,0,0,.42);white-space:nowrap}.ranking-mobile-button{border:1px solid rgba(255,255,255,.2);background:#ffffff14;border-radius:6px;padding:8px 10px;display:flex;align-items:center;justify-content:center;gap:6px;font-size:.82rem;font-weight:700;color:#f3f7ff;text-shadow:0 1px 3px rgba(0,0,0,.42);cursor:pointer;white-space:nowrap}.ranking-mobile-button:hover,.ranking-mobile-button:active{background:#ffffff24}.profile-button{min-width:56px}.tower-section{width:100%;padding:8px 6px}.FloorCard,.floor{width:var(--tower-floor-frame-width-mobile, var(--tower-floor-frame-width))}.floor-image{max-width:var(--tower-floor-width-mobile, var(--tower-floor-width))}.floor-image-base{max-width:var(--tower-base-width-mobile, var(--tower-base-width))}.parallax-layer{top:-12%;right:-12%;bottom:-8%;left:-12%}.tower-title{font-size:1.45rem}.tower-logo{width:var(--tower-logo-width-mobile, var(--tower-logo-width))}.tower-fog{width:var(--fog-top-width-mobile, var(--fog-top-width))}.scene-fog-bottom{width:var(--fog-bottom-width-mobile, var(--fog-bottom-width));bottom:0;--fog-bottom-y-shift: 48%}.player-avatar{--avatar-width: clamp(54px, 12vw, 82px);--avatar-height: clamp(96px, 22vw, 130px);--avatar-offset-x: 8px;--avatar-offset-y: 0px}.player-avatar.avatar-type-right{transform:translate(calc(-100% - 8px),var(--avatar-offset-y, 0))}.player-avatar.avatar-variant-front{--avatar-width: clamp(50px, 10.5vw, 76px);--avatar-height: clamp(90px, 18.5vw, 122px)}.player-avatar.avatar-base{--avatar-width: clamp(70px, 18vw, 106px);--avatar-height: clamp(122px, 30vw, 166px);--avatar-offset-x: 12px;--avatar-offset-y: -2px}.scene-avatar-flip{width:var(--scene-avatar-width-mobile);left:var(--scene-avatar-x-mobile, var(--scene-avatar-x));bottom:var(--scene-avatar-y-mobile, var(--scene-avatar-y))}.door-anchor{width:clamp(30px,30px,64px);height:clamp(80px,80px,132px)}.door-anchor.anchor-right{--anchor-left: 74%}.challenge-form{flex-direction:column}}
